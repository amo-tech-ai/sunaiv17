# Screen 5: 30-Day Strategy Plan

**Phase:** Phase 1 (Core Wizard)
**Status:** ðŸ”´ Pending AI Integration
**AI Model:** `gemini-3-pro-preview`
**Agent Role:** ðŸ“… **The Planner**

---

## 1. Description & Purpose
The climax of the wizard. It synthesizes all previous inputs into a concrete, actionable roadmap. This is the "Product" the user takes away.

**Key Goals:**
1.  Generate a **3-Phase Execution Plan** (Foundation, Implementation, Optimization).
2.  Be **specific** to the selected systems (Step 3) and industry (Step 1).
3.  Demonstrate **Deep Reasoning** (Gemini Thinking).

---

## 2. 3-Panel Layout Logic

| Panel | Content | Behavior |
| :--- | :--- | :--- |
| **Left (Context)** | Summary of all previous steps. | The inputs that created this plan. |
| **Center (Work)** | **The Roadmap**<br>Vertical timeline with weekly deliverables. | Content is fully generated by AI. |
| **Right (Intelligence)** | **The Strategist**<br>Thinking process visualization. | Shows "Thinking..." with steps (Analyzing Gaps -> Sequencing Tasks). |

---

## 3. AI Agent: The Planner

**System Instruction:**
"You are a Senior Strategic Partner. Create a 30-day rollout plan. Use your Thinking Budget to analyze dependencies between the selected systems and the user's readiness gaps."

**Gemini 3 Features:**
-   **Gemini Thinking**: Use `thinkingConfig: { thinkingBudget: 2048 }`. This allows the model to "plan" before speaking.
-   **Structured Outputs**: The roadmap must be JSON to render the timeline UI.

### Workflow Diagram
```mermaid
graph TD
    History[Steps 1-4 Data] --> Planner[ðŸ“… Planner (Gemini 3 Pro)]
    Planner --> Think{Thinking Process}
    Think -->|Step 1| AnalyzeDeps[Analyze Dependencies]
    Think -->|Step 2| Sequence[Sequence Tasks]
    Think -->|Step 3| Assign[Assign Deliverables]
    Planner -->|JSON| UI[Render Timeline]
```

---

## 4. Implementation Prompts

### Step 1: The Planner Agent
```text
Create `services/gemini/planner.ts`.
- Use `gemini-3-pro-preview`.
- Enable `thinkingConfig`.
- Schema: `Roadmap { phases: { name: string, weeks: string, items: string[] }[] }`.
- Prompt: "Create a plan for a ${industry} company implementing ${systems}. They have these readiness gaps: ${gaps}."
```

### Step 2: Thinking Visualization
```text
In `Step5Plan.tsx`, handle the "Thinking" state.
- While waiting for the JSON response, show a "Thinking..." animation in the Right Panel.
- Use the streaming text to show "Analysing dependencies...", "Sequencing weeks..." if possible, or simulate it.
```

### Step 3: Render Timeline
```text
Map the returned JSON `phases` to the vertical timeline component in the Center Panel.
```
